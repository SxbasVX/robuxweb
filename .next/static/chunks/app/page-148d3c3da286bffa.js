(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3898:function(e,t,a){Promise.resolve().then(a.bind(a,6711))},6711:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var i=a(7437),o=a(7138),r=a(3259),l=a(2265),n=a(4887);let s=[{id:"welcome",title:"\xa1Bienvenido a ROBUX! \uD83C\uDF89",description:"Te mostraremos c\xf3mo explorar grupos y ver trabajos publicados.",target:".hero-section",emoji:"\uD83D\uDC4B",position:"bottom"},{id:"groups",title:"Accede a tus Grupos",description:"Haz clic en un grupo para ver publicaciones, archivos y comentarios.",target:"#grupos",emoji:"\uD83D\uDC65",position:"top",action:"click"},{id:"navigation",title:"Navegaci\xf3n",description:"Usa el men\xfa superior para volver a inicio o abrir tu perfil.",target:".navbar",emoji:"\uD83E\uDDED",position:"bottom"},{id:"complete",title:"\xa1Listo! \uD83D\uDE80",description:"Ya puedes explorar trabajos y participar con comentarios y reacciones.",target:"#grupos",emoji:"✨",position:"top"}],u=[{id:"welcome",title:"Bienvenido, Delegado \uD83D\uDC51",description:"Aprende a publicar para tu grupo y para cada estudiante paso a paso.",target:".hero-section",emoji:"\uD83D\uDE4C",position:"bottom"},{id:"groups",title:"Entra a tu Grupo",description:"Haz clic en tu grupo para abrir el tablero y ver publicaciones existentes.",target:"#grupos",emoji:"\uD83D\uDC65",position:"top",action:"click"},{id:"post-grupal",title:"Crear publicaci\xf3n grupal",description:"En el tablero pulsa “Nueva publicaci\xf3n”. Escribe t\xedtulo y contenido; usa etiquetas para organizar. Guarda para todo el grupo.",target:".navbar",emoji:"\uD83D\uDCDD",position:"bottom"},{id:"post-alumno",title:"Publicaci\xf3n por estudiante",description:"En el editor selecciona al estudiante y activa “Por estudiante” para dirigir el post solo a esa persona.",target:".navbar",emoji:"\uD83C\uDF93",position:"bottom"},{id:"files",title:"Adjuntar archivos",description:"Usa “Adjuntar archivo” para subir documentos, im\xe1genes o PDFs (arrastra y suelta o selecciona desde tu equipo).",target:".navbar",emoji:"\uD83D\uDCCE",position:"bottom"},{id:"publish",title:"Publicar y moderar",description:"Revisa la vista previa y pulsa “Publicar”. Luego podr\xe1s editar, eliminar y moderar comentarios desde el listado.",target:".navbar",emoji:"�",position:"bottom"},{id:"complete",title:"\xa1Todo listo! ✨",description:"Tu grupo y estudiantes ya pueden ver y participar en las publicaciones.",target:".navbar",emoji:"✨",position:"bottom"}];function c(e){let{isVisible:t,onClose:a}=e,[o,c]=(0,l.useState)(0),[d,m]=(0,l.useState)(!1),{user:p,role:D}=(0,r.a)(),[h,g]=(0,l.useState)(!1),x=(0,l.useMemo)(()=>"delegado"===D||"admin"===D?u:s,[D]);(0,l.useEffect)(()=>(g(!0),t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);let b=()=>{a()},v=()=>{localStorage.setItem("tutorialCompleted","true"),a()},f=e=>{m(!0),setTimeout(()=>{c(e),m(!1)},120)};if(!t||!h)return null;let C=x[o];return(0,n.createPortal)((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"fixed inset-0 animate-fade-soft-lg backdrop-veil",style:{zIndex:99990},onClick:b}),(0,i.jsx)("div",{className:"fixed animate-fade-soft-lg",style:{zIndex:99991},children:(0,i.jsxs)("div",{className:"max-w-md mx-4 p-6 rounded-2xl shadow-xl border ".concat(d?"animate-pulse-glow":"animate-fade-scale-in-lg"),style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(15, 26, 43, 0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",borderColor:"var(--card-border)",zIndex:99992},onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("span",{className:"text-4xl animate-bounce-subtle",children:C.emoji}),(0,i.jsxs)("div",{className:"badge-vibrant",children:["Paso ",o+1," de ",x.length]})]}),(0,i.jsx)("button",{onClick:b,className:"text-white/70 hover:text-white text-2xl leading-none",title:"Saltar tutorial",children:"\xd7"})]}),(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:C.title}),(0,i.jsx)("p",{className:"text-white/90 leading-relaxed text-lg",children:C.description}),C.action&&(0,i.jsx)("div",{className:"mt-4 p-4 bg-white/10 rounded-2xl border border-white/20",children:(0,i.jsxs)("p",{className:"text-sm text-white/80",children:["\uD83D\uDCA1 ",(0,i.jsx)("strong",{children:"Consejo:"})," ","click"===C.action?"Haz clic en el elemento resaltado":"hover"===C.action?"Pasa el mouse sobre el elemento":"Despl\xe1zate para ver m\xe1s contenido"]})})]}),(0,i.jsx)("div",{className:"flex justify-center space-x-2 mb-6",children:x.map((e,t)=>(0,i.jsx)("button",{onClick:()=>f(t),className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(t===o?"bg-white scale-125":t<o?"bg-white/60":"bg-white/30")},t))}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("button",{onClick:()=>{o>0&&(m(!0),setTimeout(()=>{c(o-1),m(!1)},120))},disabled:0===o,className:"px-6 py-3 rounded-xl border border-white/20 text-white/90 hover:text-white hover:bg-white/10 transition ".concat(0===o?"opacity-50 cursor-not-allowed":""),children:"← Anterior"}),o===x.length-1?(0,i.jsx)("button",{onClick:v,className:"px-8 py-3 rounded-xl bg-indigo-500/80 hover:bg-indigo-400 text-white font-semibold shadow-lg",children:"\xa1Empezar! \uD83D\uDE80"}):(0,i.jsx)("button",{onClick:()=>{o<x.length-1?(m(!0),setTimeout(()=>{c(o+1),m(!1)},120)):v()},className:"px-6 py-3 rounded-xl bg-indigo-500/80 hover:bg-indigo-400 text-white font-semibold",children:"Siguiente →"})]}),p&&(0,i.jsx)("div",{className:"mt-6 text-center",children:(0,i.jsxs)("p",{className:"text-sm text-white/70",children:["\xa1Hola ",(0,i.jsx)("span",{className:"text-white font-semibold",children:p.email}),"! \uD83D\uDC4B"]})})]})})]}),document.body)}var d=(0,l.memo)(function(){let{user:e}=(0,r.a)(),[t,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)(!1),[u,d]=(0,l.useState)("dark");return(0,l.useEffect)(()=>{if(s(!0),"undefined"!=typeof document){let e=document.documentElement,t=localStorage.getItem("theme"),a=null!=t?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",i=null!=u?u:a;"dark"===i?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",i)}},[]),(0,l.useEffect)(()=>{if(!n)return;let e=document.documentElement;"dark"===u?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",u)},[n,u]),(0,i.jsxs)("div",{className:"min-h-screen",children:[(0,i.jsx)("div",{className:"theme-toggle",children:n&&(0,i.jsxs)("button",{className:"btn-secondary",onClick:()=>d(e=>"dark"===e?"light":"dark"),"aria-label":"Cambiar tema",children:[(0,i.jsx)("span",{children:"dark"===u?"☀️":"\uD83C\uDF19"}),(0,i.jsx)("span",{className:"sr-only",children:"Cambiar tema"})]})}),(0,i.jsx)(c,{isVisible:t,onClose:()=>a(!1)}),(0,i.jsx)("section",{className:"section hero-drfriend hero-section",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"hero-panel animate-fade-in-up",children:[(0,i.jsx)("div",{className:"curve-blob blob-1"}),(0,i.jsx)("div",{className:"curve-blob blob-2"}),(0,i.jsxs)("div",{className:"text-center space-y-6 relative",children:[(0,i.jsxs)("div",{className:"flex flex-wrap justify-center gap-3",children:[(0,i.jsx)("span",{className:"sticker blue",children:"ROBUX"}),(0,i.jsx)("span",{className:"sticker pink",children:"orientaci\xf3n"}),(0,i.jsx)("span",{className:"sticker green",children:"experiencia"})]}),(0,i.jsxs)("h1",{className:"hero-title",children:["Red de Orientaci\xf3n en Bienestar",(0,i.jsx)("br",{}),"y Unidades de Experiencia"]}),(0,i.jsxs)("p",{className:"text-lg max-w-2xl mx-auto text-white/90",children:[(0,i.jsx)("span",{className:"text-white bg-blue-900/60 px-3 py-1 rounded-lg",children:"Tambi\xe9n nos puedes llamar:"})," ",(0,i.jsx)("strong",{className:"text-yellow-300 bg-blue-900/40 px-3 py-1 rounded-lg ml-2",children:"ROBUX"}),"."]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,i.jsx)("button",{className:"btn-secondary",onClick:()=>a(!0),"aria-label":"Abrir tutorial",children:"\uD83D\uDC8E Tutorial"}),(0,i.jsx)("button",{className:"btn-primary",onClick:()=>{let e=document.getElementById("grupos");if(e){let t=e.getBoundingClientRect().top+window.pageYOffset-100;document.documentElement.style.scrollBehavior="smooth",requestAnimationFrame(()=>{window.scrollTo({top:t,behavior:"smooth"})}),setTimeout(()=>{document.documentElement.style.scrollBehavior="auto"},1e3)}},"aria-label":"Ir a grupos",children:"\uD83D\uDC65 Grupos"})]})]})]})})}),(0,i.jsx)("section",{className:"section",id:"grupos",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"text-center space-y-3 mb-10",children:[(0,i.jsx)("span",{className:"badge badge-green",children:"Grupos"}),(0,i.jsx)("h2",{className:"title-lg",children:"Accede a tus grupos"}),(0,i.jsx)("p",{className:"text-lg max-w-2xl mx-auto",children:"Entra directamente al tablero de cada grupo."})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 grid-cols-3",children:[1,2,3,4,5].map(e=>(0,i.jsx)(o.default,{href:"/grupo/".concat(e),className:"card",style:{borderColor:"var(--card-border)"},children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"title-md",children:["Grupo ",e]}),(0,i.jsx)("p",{className:"text-lg",style:{color:"var(--muted-color)"},children:"Tablero y recursos"})]}),(0,i.jsx)("div",{className:"blob-pill text-2xl",style:{background:"rgba(59,130,246,.15)",color:"var(--text-color)"},children:"➡️"})]})},e))})]})})]})})},3259:function(e,t,a){"use strict";a.d(t,{H:function(){return s},a:function(){return u}});var i=a(7437),o=a(2265),r=a(1180),l=a(9831);let n=(0,o.createContext)({user:null,role:null,group:null,loading:!0,isAnonymous:!1});function s(e){let{children:t}=e,[a,s]=(0,o.useState)(null),[u,c]=(0,o.useState)(null),[d,m]=(0,o.useState)(!0),[p,D]=(0,o.useState)(!1),h=()=>{try{let e=localStorage.getItem("anonymousUser");return e?JSON.parse(e):null}catch(e){return null}},g=()=>{let e=(0,l.M7)(),t=(0,l.Bm)(),a={id:"anon_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),displayName:e,avatar:t};return localStorage.setItem("anonymousUser",JSON.stringify(a)),a};(0,o.useEffect)(()=>{let e=!0;(async()=>{try{var t,a,i,o,l,n;let u=(0,r.S)(),{data:d}=await u.auth.getSession(),m=null!==(a=null===(t=d.session)||void 0===t?void 0:t.user)&&void 0!==a?a:null;if(!e)return;if(m){D(!1),await u.from("users").upsert({id:m.id,email:null!==(l=m.email)&&void 0!==l?l:null},{onConflict:"id"});let{data:e}=await u.from("users").select("*").eq("id",m.id).limit(1),t=null==e?void 0:e[0];console.log("\uD83D\uDD0D Auth Debug - Usuario encontrado en DB:",t),console.log("\uD83D\uDD0D Auth Debug - Email:",m.email,"Role:",null==t?void 0:t.role),c(null!=t?t:{role:"usuario",email:null!==(n=m.email)&&void 0!==n?n:void 0});let a=(null==m?void 0:null===(i=m.user_metadata)||void 0===i?void 0:i.full_name)||(null==m?void 0:null===(o=m.user_metadata)||void 0===o?void 0:o.name),r=(null==t?void 0:t.displayName)||a||(m.email?m.email.split("@")[0]:void 0);s({id:m.id,email:m.email,displayName:r})}else{let e=h();e||(e=g()),e&&(s(e),D(!0),c({role:"anonimo",displayName:e.displayName,avatar:e.avatar}))}}catch(a){console.error("Error en inicializaci\xf3n de auth:",a);let t=g();t&&e&&(s(t),D(!0),c({role:"anonimo",displayName:t.displayName,avatar:t.avatar}))}finally{e&&m(!1)}})();let{data:t}=(0,r.S)().auth.onAuthStateChange((t,a)=>{var i,o,r;if(!e)return;let l=null!==(i=null==a?void 0:a.user)&&void 0!==i?i:null;if(l){let e=(null==l?void 0:null===(o=l.user_metadata)||void 0===o?void 0:o.full_name)||(null==l?void 0:null===(r=l.user_metadata)||void 0===r?void 0:r.name)||(l.email?l.email.split("@")[0]:void 0);s({id:l.id,email:l.email,displayName:e}),D(!1)}else{let e=h();e||(e=g()),e&&(s(e),D(!0),c({role:"anonimo",displayName:e.displayName,avatar:e.avatar}))}});return()=>{e=!1,t.subscription.unsubscribe()}},[]);let x=(0,o.useMemo)(()=>{var e,t;return{user:a,role:null!==(e=null==u?void 0:u.role)&&void 0!==e?e:null,group:null!==(t=null==u?void 0:u.group)&&void 0!==t?t:null,loading:d,isAnonymous:p}},[null==a?void 0:a.id,null==a?void 0:a.email,null==u?void 0:u.role,null==u?void 0:u.group,d,p]);return(0,i.jsx)(n.Provider,{value:x,children:t})}function u(){return(0,o.useContext)(n)}},9831:function(e,t,a){"use strict";a.d(t,{Bm:function(){return s},M7:function(){return n},UJ:function(){return u},X0:function(){return c},c1:function(){return d}});let i=["Silent","Swift","Brave","Wild","Cool","Smart","Bold","Quick","Dark","Bright","Strong","Fast","Calm","Sharp","Wise","Fierce","Noble","Epic","Magic","Crystal","Storm","Fire","Ice","Thunder","Shadow","Light","Golden","Silver","Mystic","Cyber","Neon","Cosmic","Rebel","Alpha","Beta","Delta","Omega","Phoenix","Dragon","Wolf","Eagle","Shark","Tiger","Lion","Hawk","Raven","Viper","Falcon"],o=["Hunter","Warrior","Knight","Mage","Archer","Fighter","Guardian","Defender","Champion","Hero","Legend","Master","Ghost","Phantom","Ranger","Scout","Sniper","Pilot","Captain","Admiral","General","Commander","Agent","Ninja","Samurai","Viking","Spartan","Titan","Storm","Blaze","Frost","Thunder","Lightning","Eclipse","Nova","Comet","Meteor","Star","Galaxy","Cosmos","Void","Prism","Nexus","Matrix","Core","Edge","Pulse","Wave","Surge","Force","Power"],r=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85C1E9","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1"],l=["\uD83C\uDFAE","\uD83D\uDE80","⭐","\uD83D\uDD25","⚡","\uD83C\uDF1F","\uD83D\uDC8E","\uD83C\uDFAF","\uD83C\uDFAA","\uD83C\uDFA8","\uD83C\uDFB5","\uD83C\uDFB2","\uD83C\uDFB8","\uD83C\uDFAD","\uD83C\uDFBA","\uD83C\uDFBB","\uD83C\uDFC6","\uD83C\uDFC5","\uD83C\uDF96️","\uD83D\uDC51","\uD83E\uDD84","\uD83E\uDD8B","\uD83E\uDD85","\uD83E\uDD8A","\uD83D\uDC3A","\uD83E\uDD81","\uD83D\uDC05","\uD83E\uDD88","\uD83D\uDC09","\uD83D\uDD2E","\uD83D\uDCAB","\uD83C\uDF08","\uD83C\uDF40","\uD83C\uDF38","\uD83C\uDF3A","\uD83C\uDF3B","\uD83C\uDF44","\uD83C\uDF35","\uD83C\uDF83","❄️"];function n(){let e=i[Math.floor(Math.random()*i.length)],t=o[Math.floor(Math.random()*o.length)];return"".concat(e).concat(t).concat(Math.floor(999*Math.random())+1)}function s(){return{color:r[Math.floor(Math.random()*r.length)],emoji:l[Math.floor(Math.random()*l.length)]}}function u(e){switch(e){case"admin":return"Administrador";case"delegado":return"Delegado";case"usuario":return"Estudiante";default:return"Invitado"}}function c(e){switch(e){case"admin":return"from-purple-500 to-pink-500";case"delegado":return"from-blue-500 to-cyan-500";case"usuario":return"from-green-500 to-teal-500";default:return"from-gray-500 to-gray-600"}}function d(e){switch(e){case"admin":return"\uD83D\uDC51";case"delegado":return"\uD83C\uDFAF";case"usuario":return"\uD83D\uDCDA";default:return"\uD83D\uDC64"}}},1180:function(e,t,a){"use strict";a.d(t,{S:function(){return r}});var i=a(2835);let o=null;function r(){if(o)return o;let e="https://cjdiysajgoqqoebwyeae.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqZGl5c2FqZ29xcW9lYnd5ZWFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NTAzODAsImV4cCI6MjA3NTQyNjM4MH0.flnUk4t0YKucb3EQD4dAOkd-3_9KvbA6pTSDoqG-ezo";if(!e||!t)throw Error("Faltan NEXT_PUBLIC_SUPABASE_URL o NEXT_PUBLIC_SUPABASE_ANON_KEY");return o=(0,i.eI)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0}})}}},function(e){e.O(0,[835,138,971,23,744],function(){return e(e.s=3898)}),_N_E=e.O()}]);